{"ast":null,"code":"var _jsxFileName = \"/Users/natehanson/Desktop/reactiondata-frontend/src/pages/projects/project/results/visualizations/ChartBox.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { forwardRef, useRef, useEffect } from \"react\";\nimport styles from \"./Visualizations.module.scss\";\nimport { BarChartVertical } from \"components/Charts/BarChartVertical/BarChartVertical\";\nimport { BarChartHorizontal } from \"components/Charts/BarChartHorizontal/BarChartHorizontal\";\nimport { DoughnutChart } from \"components/Charts/DoughnutChart/DoughnutChart\";\nimport { LineChart } from \"components/Charts/LineChart/LineChart\";\n/* eslint-disable */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst options = [{\n  label: \"Vertical Bar Chart\",\n  value: \"verticalbarchart\"\n}, {\n  label: \"Horizontal Bar Chart\",\n  value: \"horizontalbarchart\"\n}, {\n  label: \"Line Chart\",\n  value: \"linechart\"\n}, {\n  label: \"Doughnut Chart\",\n  value: \"doughnutchart\"\n}, {\n  label: \"Answer Count\",\n  value: \"numbercount\"\n}];\nexport const ChartBox = /*#__PURE__*/_s( /*#__PURE__*/forwardRef(_c = _s((_ref, ref) => {\n  _s();\n\n  let {\n    item,\n    index,\n    faded,\n    style,\n    handleDeletion,\n    opensettings,\n    ...props\n  } = _ref;\n  // const [selected, setSelected] = useState(false);\n  const inlineStyles = {\n    opacity: faded ? \"0.2\" : \"1\",\n    transformOrigin: \"0 0\",\n    height: index === 0 ? 570 : 280,\n    gridRowStart: index === 0 ? \"span 2\" : null,\n    gridColumnStart: index === 0 ? \"span 2\" : null,\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n    backgroundColor: \"white\",\n    border: item.selected ? \"2px solid #15bcc7\" : \"2px solid #EEEE\",\n    borderRadius: \"5px\",\n    overflow: \"hidden\",\n    paddingTop: \"5px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    boxShadow: \"rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px\",\n    ...style\n  };\n  const refer = useRef(null);\n\n  const VerticalBarChart = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.chart,\n      children: /*#__PURE__*/_jsxDEV(BarChartVertical, {\n        data: item.data,\n        title: item.titleLabel,\n        settings: item.design_settings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this);\n  };\n\n  const lineChart = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.chart,\n      children: /*#__PURE__*/_jsxDEV(LineChart, {\n        data: item.data,\n        title: item.titleLabel,\n        settings: item.design_settings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this);\n  }; // const trendedNPSScore = () => {\n  //   return (\n  //     <div className={styles.chart}>\n  //       <LineChart data={item.data} title=\"Trended NPS\" />\n  //     </div>\n  //   );\n  // };\n\n\n  const HorizontalBarChart = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.chart,\n      children: /*#__PURE__*/_jsxDEV(BarChartHorizontal, {\n        data: item.data,\n        title: item.titleLabel,\n        settings: item.design_settings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this);\n  };\n\n  const pieChart = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.chart,\n      children: /*#__PURE__*/_jsxDEV(DoughnutChart, {\n        data: item.data,\n        title: item.titleLabel,\n        settings: item.design_settings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this);\n  };\n\n  const GenericNumber = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.participants,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: item.total\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: item.titleLabel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this);\n  };\n\n  const handleClickOutside = event => {\n    if (refer.current && !refer.current.contains(event.target)) {\n      item.selected = false; // if (props.insidesettings === false) {\n      //   setSelected(false);\n      //   // setSelected(true);\n      //   // props.opensettings(false);\n      // }\n    }\n  };\n\n  const handleDeleteChart = () => {\n    //return index\n    handleDeletion(index);\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClickOutside, true);\n    return () => {\n      document.removeEventListener(\"click\", handleClickOutside, true);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    style: inlineStyles,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: refer,\n      style: {\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.chartholder,\n        ...props,\n        children: [item.type === \"verticalbarchart\" && VerticalBarChart(), item.type === \"linechart\" && lineChart(), item.type === \"horizontalbarchart\" && HorizontalBarChart(), item.type === \"doughnutchart\" && pieChart(), item.type === \"numbercount\" && GenericNumber()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.editbuttons,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            opensettings(!item.selected);\n            item.selected = !item.selected;\n          },\n          className: styles.editchart,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-three-dots\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 7\n  }, this);\n}, \"9IpajBj/H7RRyb7Jf1gV29OwWyQ=\")), \"9IpajBj/H7RRyb7Jf1gV29OwWyQ=\");\n_c2 = ChartBox;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ChartBox$forwardRef\");\n$RefreshReg$(_c2, \"ChartBox\");","map":{"version":3,"names":["React","forwardRef","useRef","useEffect","styles","BarChartVertical","BarChartHorizontal","DoughnutChart","LineChart","options","label","value","ChartBox","ref","item","index","faded","style","handleDeletion","opensettings","props","inlineStyles","opacity","transformOrigin","height","gridRowStart","gridColumnStart","backgroundSize","backgroundPosition","backgroundColor","border","selected","borderRadius","overflow","paddingTop","display","flexDirection","position","boxShadow","refer","VerticalBarChart","chart","data","titleLabel","design_settings","lineChart","HorizontalBarChart","pieChart","GenericNumber","participants","total","handleClickOutside","event","current","contains","target","handleDeleteChart","document","addEventListener","removeEventListener","chartholder","type","editbuttons","editchart"],"sources":["/Users/natehanson/Desktop/reactiondata-frontend/src/pages/projects/project/results/visualizations/ChartBox.jsx"],"sourcesContent":["import React, { forwardRef, useRef, useEffect } from \"react\";\nimport styles from \"./Visualizations.module.scss\";\nimport { BarChartVertical } from \"components/Charts/BarChartVertical/BarChartVertical\";\nimport { BarChartHorizontal } from \"components/Charts/BarChartHorizontal/BarChartHorizontal\";\nimport { DoughnutChart } from \"components/Charts/DoughnutChart/DoughnutChart\";\nimport { LineChart } from \"components/Charts/LineChart/LineChart\";\n\n/* eslint-disable */\n\nconst options = [\n  {\n    label: \"Vertical Bar Chart\",\n    value: \"verticalbarchart\",\n  },\n  {\n    label: \"Horizontal Bar Chart\",\n    value: \"horizontalbarchart\",\n  },\n  {\n    label: \"Line Chart\",\n    value: \"linechart\",\n  },\n  {\n    label: \"Doughnut Chart\",\n    value: \"doughnutchart\",\n  },\n  {\n    label: \"Answer Count\",\n    value: \"numbercount\",\n  },\n];\n\nexport const ChartBox = forwardRef(\n  ({ item, index, faded, style, handleDeletion, opensettings, ...props }, ref) => {\n    // const [selected, setSelected] = useState(false);\n    const inlineStyles = {\n      opacity: faded ? \"0.2\" : \"1\",\n      transformOrigin: \"0 0\",\n      height: index === 0 ? 570 : 280,\n      gridRowStart: index === 0 ? \"span 2\" : null,\n      gridColumnStart: index === 0 ? \"span 2\" : null,\n      backgroundSize: \"cover\",\n      backgroundPosition: \"center\",\n      backgroundColor: \"white\",\n      border: item.selected ? \"2px solid #15bcc7\" : \"2px solid #EEEE\",\n      borderRadius: \"5px\",\n      overflow: \"hidden\",\n      paddingTop: \"5px\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      position: \"relative\",\n      boxShadow:\n        \"rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px\",\n      ...style,\n    };\n\n    const refer = useRef(null);\n\n    const VerticalBarChart = () => {\n      return (\n        <div className={styles.chart}>\n          <BarChartVertical\n            data={item.data}\n            title={item.titleLabel}\n            settings={item.design_settings}\n          />\n        </div>\n      );\n    };\n\n    const lineChart = () => {\n      return (\n        <div className={styles.chart}>\n          <LineChart\n            data={item.data}\n            title={item.titleLabel}\n            settings={item.design_settings}\n          />\n        </div>\n      );\n    };\n    // const trendedNPSScore = () => {\n    //   return (\n    //     <div className={styles.chart}>\n    //       <LineChart data={item.data} title=\"Trended NPS\" />\n    //     </div>\n    //   );\n    // };\n    const HorizontalBarChart = () => {\n      return (\n        <div className={styles.chart}>\n          <BarChartHorizontal\n            data={item.data}\n            title={item.titleLabel}\n            settings={item.design_settings}\n          />\n        </div>\n      );\n    };\n    const pieChart = () => {\n      return (\n        <div className={styles.chart}>\n          <DoughnutChart\n            data={item.data}\n            title={item.titleLabel}\n            settings={item.design_settings}\n          />\n        </div>\n      );\n    };\n\n    const GenericNumber = () => {\n      return (\n        <div className={styles.participants}>\n          <span>{item.total}</span>\n          <h6>{item.titleLabel}</h6>\n        </div>\n      );\n    };\n\n    const handleClickOutside = (event) => {\n      if (refer.current && !refer.current.contains(event.target)) {\n        item.selected = false;\n        // if (props.insidesettings === false) {\n        //   setSelected(false);\n        //   // setSelected(true);\n        //   // props.opensettings(false);\n        // }\n      }\n    };\n\n    const handleDeleteChart = () => {\n      //return index\n      handleDeletion(index);\n    };\n\n    useEffect(() => {\n      document.addEventListener(\"click\", handleClickOutside, true);\n      return () => {\n        document.removeEventListener(\"click\", handleClickOutside, true);\n      };\n    }, []);\n\n    return (\n      <div ref={ref} style={inlineStyles}>\n        <div\n          ref={refer}\n          style={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}\n        >\n          {\" \"}\n          <div className={styles.chartholder} {...props}>\n            {item.type === \"verticalbarchart\" && VerticalBarChart()}\n            {item.type === \"linechart\" && lineChart()}\n            {item.type === \"horizontalbarchart\" && HorizontalBarChart()}\n            {item.type === \"doughnutchart\" && pieChart()}\n            {item.type === \"numbercount\" && GenericNumber()}\n          </div>\n          <div className={styles.editbuttons}>\n            {/* <span>Total Answered: </span> */}\n            <button\n              onClick={() => {\n                opensettings(!item.selected);\n                item.selected = !item.selected;\n              }}\n              className={styles.editchart}\n            >\n              <i className=\"bi bi-three-dots\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}